{
  "aws": {
    "ebs": {
      "application": {
        "name": "<%= ENV['AWS_EBS_APPLICATION_NAME'] %>",
        "environment": {
          "name": "<%= ENV['AWS_EBS_ENVIRONMENT_NAME'] %>",
          "config": {
            "instance_type": "<%= ENV['AWS_EBS_INSTANCE_TYPE'] %>"
          }
        }
      }
    },
    "ec2": {
      "security_group": {
        "rule": {
          "ip_address": "<%= ENV['AWS_EC2_SECURITY_GROUP_RULE_IP_ADDRESS'] %>",
          "port": "<%= ENV['AWS_EC2_SECURITY_GROUP_RULE_PORT'] %>",
          "protocol": "<%= ENV['AWS_EC2_SECURITY_GROUP_RULE_PROTOCOL'] %>"
        }
      }
    },
    "s3": {
      "buckets": {
        "build": "<%= ENV['AWS_S3_BUILD_BUCKET_NAME'] %>"
      }
    }
  },
  "build": {
    "directory": "<%= ENV['BUILD_DIRECTORY'] %>",
    "type": "<%= ENV['BUILD_TYPE'] %>"
  },
  "github": {
    "action": {
      "run": {
        "id": "<%= ENV['GITHUB_RUN_ID'] %>",
        "attempt": "<%= ENV['GITHUB_RUN_ATTEMPT'] %>"
      }
    },
    "actor": {
      "username": "<%= ENV['GITHUB_ACTOR'] %>"
    },
    "branch": {
      "ref": "<%= ENV['GITHUB_REF_NAME'] %>",
      "sha": "<%= ENV['GITHUB_SHA'] %>"
    },
    "repository": {
      "name": "<%= ENV['GITHUB_REPOSITORY'] %>"
    }
  },
  "key_rotation": {
    "iam_github_action": {
      "serviced_repos": <%= (ENV['KR_IAM_GA_SERVICED_REPOS'] || '').split(';').map(&:strip) %>
    }
  },
  "log": {
    "file_path": "<%= ENV['LOG_FILE_PATH'] %>"
  },
  "slack": {
    "channels": {
      "alert": "<%= ENV['SLACK_ALERT_CHANNEL_ID'] %>",
      "notification": "<%= ENV['SLACK_NOTIFICATION_CHANNEL_ID'] %>"
    }
  },
  "source": {
    "directory": "<%= ENV['SOURCE_DIRECTORY'] %>",
    "hooks_subdirectory": "<%= ENV['SOURCE_HOOKS_SUBDIRECTORY'] %>"
  },
  "workflow": {
    "environment": "<%= ENV['WORKFLOW_ENVIRONMENT']&.underscore %>"
  }
}
